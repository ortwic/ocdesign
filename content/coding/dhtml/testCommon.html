<!DOCTYPE html>
<html>
<head>
<title>Common Test</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="../../def.css">
<script src="../../js/all.js" type="text/javascript"></script>
<script src="../../js/common.js" type="text/javascript"></script>
<script src="../../js/debug.js" type="text/javascript"></script>
<script type="text/javascript">
    function addConfig(m) {
        if(m == 0) println.config( { debug: true, 
                                     clearOnDblClick: true, 
                                     overrideAlert: true, 
                                     groupsNotCollapsed: false,
                                     groupByObjectType: false, 
                                     printScriptErrors: true
                                   }, true );
        else println.config( { debug: true, 
                               clearOnDblClick: false, 
                               overrideAlert: false, 
                               groupsNotCollapsed: true,
                               groupByObjectType: true, 
                               printScriptErrors: false
                             }, true );
    }
    
    function addStyle() {
        println.style( { left: '50%', background: 'aliceblue' } ); 
    }
    
    oc.addEvent(this, "load", function(e) {
        oc.addEvent(document.getElementById("run"), "click", function(e) {
            //try {
                //alert(document.getElementById("code").value);
                eval(document.getElementById("code").value);
            //} catch(e) {
            //    println(e);
            //}
        });
        var b1 = oc.createElement("button"), f1 = function(e) { println("mover 1") };
        var b2 = oc.createElement("button"), f2 = function(e) { println("mover 2") }; 
        var b3 = oc.createElement("button"), f3 = function(e) { println("mover 3") }; 
        addEvent(b1, "mouseover", f1);
        addEvent(b2, "mouseover", f2);
        addEvent(b3, "mouseover", f3);
        addEvent(b1, "click", function(e) { removeEvent(b1, "mouseover", f1); });
        addEvent(b2, "click", function(e) { removeEvent(b2, "mouseover", f2); });
        addEvent(b3, "click", function(e) { removeEvent(b3, "mouseover", f3); });
    });
</script>
</head>

<body>  
  <h2>common.js &mdash; what for?</h2>
  <p>
<!--     <ul>
      <li>For Webapp-development debugging with alert() is not very comfy and might be also annoying.
      So it would be nice to provide an output-function with very little efford:
      <div class="code">
        <pre>
        &lt;script src="js/debug.js" type="text/javascript"&gt;&lt;/script&gt;
        </pre>
      </div>
      </li>
      <li>Fast debugging with one global function: 
        <pre>
        > println("some string");
        > println("some string", true); // replace previous output
        </pre>
      </li>
      <li>
        <b>Great! Next idea:</b> Why just be able to print text? How about printing an object recursivly 
        as a tree instead of [object Object]!
      </li><br>
      <li>
        <b>Side benefit:</b> You can print and observe your current settings of your Browser/HTML-Page. <br>
        So if you forgot the name of a property, why don't print the object and its child instead to look 
        some reference up. 
      </li>
    </ul> -->
    <h2>Try it yourself</h2>
    <pre>
    1. enable debug:          <a href="testCommon.html?debug">testCommon.html?debug</a>
       1a. set config:        <a href="javascript:addConfig(0);">println.config({ clearOnDblClick: true, overrideAlert: true }, show)</a> 
       1b. or this config:    <a href="javascript:addConfig(1);">println.config({ clearOnDblClick: false, overrideAlert: false }, show)</a> 
       1c. append style:      <a href="javascript:addStyle();">println.style({ left: "50%", background: 'aliceblue' })</a>
    4. print your DOM:        <a href="javascript:println(window, true)">println(window)</a>
    
    If you like you can also use <a href="javascript:alert('Hallo Welt!')">alert()</a>. (You have to override it via config)
    </pre>
    <textarea id="code" style="width:50%;height:200px;border:1px solid gray;background:#F0F0F0"></textarea>
    <textarea id="code2" style="width:49%;height:200px;border:1px solid gray;background:#F0F0F0"></textarea><br>
    <button id="run">> Run</button>
  </p>
</body>
</html>